[basic]
(Const 1)
(Const 123456789)
(Scope ("{",(Seq (None, [])), "}"))
(Scope ("{",(Const 1), "}"))
(Scope ("{",(Seq (None, [(Const 1); (Const 2)])), "}"))
(Scope ("{",(Seq (None, [(Const 1); (Const 2); (Const 3)])), "}"))
(Scope ("{",(Scope ("{",(Seq (None, [])), "}")), "}"))
(Scope ("{",(Scope ("{",(Scope ("{",(Seq (None, [])), "}")), "}")), "}"))
(Scope ("{",
  (Seq (None, [(Const 1); (Scope ("{",(Seq (None, [])), "}"))])),
  "}"))
(Scope ("{",
  (Seq (None, [(Const 1); (Scope ("{",(Seq (None, [])), "}")); (Const 3)])),
  "}"))
(Scope ("{",
  (Seq (None,
    [(Const 1); (Scope ("{",(Seq (None, [])), "}"));
     (Scope ("{",(Seq (None, [(Const 1); (Const 2); (Const 3)])), "}"))])),
  "}"))
(Scope ("{",
  (Scope ("{",
    (Scope ("{",(Scope ("{",(Scope ("{",(Const 1), "}")), "}")), "}")),
    "}")),
  "}"))
(Scope ("{",
  (Seq (None,
    [(Scope ("{",(Const 0), "}"));
     (Scope ("{",(Seq (None, [(Const 1); (Const 2)])), "}"));
     (Scope ("{",(Seq (None, [(Const 3); (Const 4); (Const 5)])), "}"));
     (Scope ("{",
       (Seq (None, [(Const 6); (Const 7); (Const 8); (Const 9)])),
       "}"))])),
  "}"))

[juxt]
(Const 1)
(Seq (None, [(Const 1); (Const 2)]))
(Seq (None, [(Const 1); (Const 2); (Const 3)]))
(Seq (None,
  [(Const 1); (Const 2); (Const 3); (Const 4); (Const 5); (Const 6);
   (Const 7)]))
(Seq (None, [(Ident f); (Scope ("(",(Ident a), ")")); (Ident b)]))
(Seq (None,
  [(Ident f);
   (Scope ("(",(Seq (None, [(Ident a); (Ident x); (Ident b)])), ")"));
   (Ident c)]))
(Seq (None,
  [(Ident f); (Scope ("{",(Seq (Some ",", [(Ident a); (Ident b)])), "}"));
   (Ident c)]))

[comma]
(Const 1)
(Seq (Some ",", [(Const 1); (Const 2)]))
(Seq (Some ",", [(Const 1); (Const 2); (Const 3)]))
(Seq (Some ",",
  [(Const 1); (Const 2); (Const 3); (Const 4); (Const 5); (Const 6);
   (Const 7)]))

[juxt_comma]
(Seq (Some ",", [(Seq (None, [(Const 0); (Const 1)])); (Const 1)]))
(Seq (Some ",", [(Const 1); (Seq (None, [(Const 0); (Const 1)]))]))
(Seq (Some ",",
  [(Seq (None, [(Const 0); (Const 1)]));
   (Seq (None, [(Const 0); (Const 2)]))]))
(Seq (Some ",",
  [(Const 1); (Seq (None, [(Const 0); (Const 1)]));
   (Seq (None, [(Const 0); (Const 1); (Const 2)]));
   (Seq (None, [(Const 0); (Const 1); (Const 2); (Const 3)]))]))
(Seq (Some ",",
  [(Seq (None, [(Const 0); (Const 1); (Const 2); (Const 3)]));
   (Seq (None, [(Const 0); (Const 1); (Const 2)]));
   (Seq (None, [(Const 0); (Const 1)])); (Const 1)]))

[seq_mixed]
(Seq (Some ";",
  [(Seq (Some ",", [(Const 1); (Const 2)]));
   (Seq (Some ",", [(Const 3); (Const 4)]))]))
(Seq (Some ";",
  [(Const 1); (Seq (Some ",", [(Const 2); (Const 3)])); (Const 4)]))
(Seq (Some ";",
  [(Seq (None, [(Const 0); (Const 1)]));
   (Seq (Some ",",
     [(Const 2); (Seq (None, [(Const 0); (Const 3); (Const 4)]))]));
   (Seq (Some ",", [(Const 5); (Const 6)]))]))
(Seq (Some ";",
  [(Seq (Some ",", [(Const 1); (Seq (None, [(Const 0); (Const 2)]))]));
   (Seq (Some ",",
     [(Scope ("{",(Seq (None, [(Const 0); (Const 3); (Const 4)])), "}"));
      (Seq (None,
        [(Const 0);
         (Scope ("{",
           (Seq (Some ";",
             [(Seq (Some ",", [(Const 1); (Const 2)])); (Const 3)])),
           "}"))]));
      (Scope ("{",
        (Seq (Some ";",
          [(Const 1); (Seq (Some ",", [(Const 2); (Const 3)]))])),
        "}"))]))]))

[whitespace]
(Const 1)
(Const 1)
(Scope ("{",(Const 1), "}"))
(Scope ("{",(Const 1), "}"))

[err_unbalanced]
err: shaper: invalid syntax: unexpected end of file
err: shaper: invalid syntax: '}' cannot be used in prefix position
err: consume: invalid syntax: end of file while expecting '}'
err: run: invalid syntax: parser halted at }

[ident]
(Ident a)
(Ident a_)
(Ident a1)
(Ident fooBar)
(Ident fooBar_BAZ_001)
(Ident X)
(Ident Xa)
(Ident X_)
(Ident X_fooBar)
